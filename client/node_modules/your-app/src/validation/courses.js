//Validation >> book.js

const Validator = require('validator');
const isEmpty = require('./is-empty');

module.exports = function validateCoursesInput(data) {
    let errors = {};
    console.log(data)
    data.course_id = !isEmpty(data.course_id) ? data.course_id : '';
    data.course_name = !isEmpty(data.course_name) ? data.course_name : '';
    data.teacher_name = !isEmpty(data.teacher_name) ? data.teacher_name : '';
    data.book_cat = !isEmpty(data.book_cat) ? data.book_cat : '';
    data.course_size = !isEmpty(data.course_size) ? data.course_size : '';


    // Validation on server side for Books
    if(!Validator.isNumeric(data.book_id, { min: 1, max: 1000 })) {
        errors.course_id = 'Book Id must be between 1 to 1000 numbers';
    }
    
    if(Validator.isEmpty(data.book_id)) {
        errors.course_id = 'Book Id field is required';
    }

    if(!Validator.isLength(data.book_name, { min: 2, max: 30 })) {
        errors.course_name = 'Book Name must be between 2 to 30 chars';
    }
    
    if(Validator.isEmpty(data.book_name)) {
        errors.course_name = 'Book Name field is required';
    }

    if(!Validator.isLength(data.author_name, { min: 2, max: 30 })) {
        errors.teacher_name = 'Author Name must be between 2 to 30 chars';
    }
    
    if(Validator.isEmpty(data.author_name)) {
        errors.teacher_name = 'Author Name field is required';
    }

    if(!Validator.isLength(data.book_cat, { min: 2, max: 30 })) {
        errors.book_cat = 'Book Category must be between 2 to 30 chars';
    }
    
    if(Validator.isEmpty(data.book_cat)) {
        errors.book_cat = 'Book Category field is required';
    }

    if(!Validator.isNumeric(data.quantity, { min: 1, max: 1000 })) {
        errors.course_size = 'Quantity must be between 1 to 1000 numbers';
    }
    
    if(Validator.isEmpty(data.quantity)) {
        errors.course_size = 'Quantity field is required';
    }

    return {
        errors,
        isValid: isEmpty(errors)
    }
}